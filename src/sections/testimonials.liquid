<section class="testimonials testimonials__{{ section.settings.background_color }}" data-section-type="testimonials" data-section-id="{{ section.id }}">
	<div class="container">
		{% if section.settings.heading != blank %}
			<h2>{{ section.settings.heading }}</h2>
		{% endif %}
		<div class="testimonials__slides">
			{% for block in section.blocks %}
				<div class="testimonials__slide">
					<img src="{{ block.settings.image | img_url: '200x' }}">
					{% if block.settings.caption != blank %}
						<p style="color: {{ block.settings.caption_color }}">{{ block.settings.caption }}</p>
					{% endif %}
					<div class="testimonials__meta">
						{% if block.settings.name != blank %}
							<span>{{ block.settings.name }}</span>
						{% endif %}
						{% if block.settings.location != blank %}
							<span>{{ block.settings.location }}</span>
						{% endif %}
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
</section>
{% schema %}
	{
		"name": "Testimonials",
		"settings": [
			{
        "type": "text",
        "id": "heading",
        "label": "Heading"
	    },
			{
				"type": "select",
				"id": "background_color",
				"label": "Background Color",
				"options": [
					{
						"value": "green",
						"label": "Brand Green"
					},
					{
						"value": "purple",
						"label": "Brand Purple"
					},
					{
						"value": "dark",
						"label": "Body Text Dark"
					},
					{
						"value": "light",
						"label": "Body Text Light"
					},
					{
						"value": "button",
						"label": "Button Color"
					},
					{
						"value": "white",
						"label": "White"
					}
				]
			}
		],
		"blocks": [
			{
				"name": "Testimonial",
				"type": "testimonial",
				"settings": [
					{
						"type": "image_picker",
						"id": "image",
						"label": "Testimonial Image"
					},
					{
						"type": "textarea",
						"id": "caption",
						"label": "Caption"
					},
					{
						"type": "color",
						"id": "caption_color",
						"label": "Caption Color",
						"default": "#6e6e6e"
					},
					{
						"type": "text",
						"id": "name",
						"label": "Name"
					},
					{
						"type": "text",
						"id": "location",
						"label": "Location"
					}
				]
			}
		],
		"presets": [
			{
				"name": "Testimonials",
				"category": "Promotional"
			}
	    ]
	}
{% endschema %}